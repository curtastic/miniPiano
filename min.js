var piano={play:function(t,s,e){s||=180,e||=44100,this.interval?clearInterval(this.interval):this.contexts=[...Array(11).keys()].map(t=>new AudioContext);var n=(t,s)=>{t=130.81*1.06**t;var n=s,i=(t,s,e,n)=>Math.sin(t/s*6.28*e+n),o=(t,s)=>.1*Math.sin(t/e*s*6.28+i(t,e,s,0)**2+.75*i(t,e,s,.25)+.1*i(t,e,s,.5)),h=[];for(tick=0;tick<e*n;tick++)h[tick]=tick<88?tick/88.2*o(tick,t):(1-(tick-88.2)/(e*(n-.002)))**(.5*Math.log(1e4*t/e))**2*o(tick,t);return h};if(this.song=[],this.contexts[9])for(var i=0;i<t.length;i++)if(t[i]){var o=this.contexts[i%10].createBuffer(1,1e6,e);o.getChannelData(0).set(n(t[i],2)),this.song[i]=o}else this.song.push(0);var h=t=>{if(this.song[t]){var s=this.contexts[t%10],e=s.createBufferSource();e.buffer=this.song[t],e.connect(s.destination),e.start()}};this.noteI=0,this.interval=setInterval(t=>{this.noteI>=this.song.length?this.noteI=0:h(this.noteI++)},s)}};