var piano={play:function(t,e,n){e||=180,n=44100*(n||1)|0,clearInterval(this.interval),this.contexts||=[...Array(11).keys()].map(t=>new AudioContext),this.song=t.map((t,e)=>{if(!t)return 0;var s=2,i=n;t<0&&(t*=-1,s=4),t<1&&(t*=100,s=1),t=130.81*1.06**t;var $=(t,e,n,s)=>Math.sin(t/e*6.28*n+s),o=(t,e)=>.1*Math.sin(t/i*e*6.28+$(t,i,e,0)**2+.75*$(t,i,e,.25)+.1*$(t,i,e,.5)),r=[];for(tick=0;tick<i*s;tick++)r[tick]=tick<88?tick/88.2*o(tick,t):(1-(tick-88.2)/(i*(s-.002)))**(Math.log(1e4*t/i)/2)**2*o(tick,t);return($=this.contexts[0].createBuffer(1,r.length,n)).getChannelData(0).set(r),$}),this.noteI=0,this.interval=setInterval(t=>{if(this.noteI<this.song.length){if(t=this.noteI++,this.song[t]){var e=this.contexts[t%10],n=e.createBufferSource();n.buffer=this.song[t],n.connect(e.destination),n.start()}}else this.noteI=0},e)}};