var piano={songs:{},play:function(t,s,i){i=44100*(i||1)|0,this.contexts||=[...Array(9).keys()].map(t=>new AudioContext);var e=this.songs[t];e||(e=this.songs[t]=t.map((t,s)=>{if(t){var e,n=2,a=(t,s)=>Math.sin(6.28*t+s),h=t=>.1*a(t,a(t,0)**2+.75*a(t,.25)+.1*a(t,.5)),o=[];for(t<0&&(t*=-1,n=4),t<1&&(t*=100,n=1),t=65.406*1.06**t/i,e=i*n;e--;)o[e]=(e<88?e/88.2:(1-(e-88.2)/(i*(n-.002)))**(Math.log(1e4*t)/2)**2)*h(e*t);return(a=this.contexts[0].createBuffer(1,i*n,i)).getChannelData(0).set(o),a}})),this.song=e,this.i=0,clearInterval(this.interval),this.interval=setInterval(t=>{if(this.i<this.song.length){if(t=this.i++,this.song[t]){var s=this.contexts[t%8],i=s.createBufferSource();i.buffer=this.song[t],i.connect(s.destination),i.start()}}else this.i=0},s||180)}};